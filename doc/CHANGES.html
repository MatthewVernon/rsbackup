<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01//EN">
<html>
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>Changes To rsbackup</title>
    <link rel=StyleSheet type="text/css" href="rsbackup.css">
  </head>
  <body>

    <h1>Changes To rsbackup</h1>

    <p>Please see <a
    href="http://www.chiark.greenend.org.uk/ucgi/~richardk/git/rsbackup.git/">rsbackup
    in git</a> for detailed change history.</p>

    <h2>Changes In rsbackup 0.3</h2>

    <ul>

      <li><code>--prune</code> honours command-line selections again.</li>

      <li>The “oldest” backup for a host with no backups now shows up
      as “none” rather than “1980-01-01”.</li>

      <li>In the HTML report, if the most recent attempt to backup a
      volume to a given device failed, its heading is highlighted (in
      red).</li>

      <li>The tool scripts now have proper <code>--version</code>
      options.  Single-letter command line options are now supported
      (in fact they existed in many cases already but weren’t
      documented).</li>

      <li>Retiring a volume no longer makes a (futile and harmless!)
      attempt to remove <code>.</code> and <code>..</code>.</li>

      <li>The <code>.incomplete</code> files used by the Perl script
      to indicate partial backups are now created by the C++ version
      too.  It does not rely on them itself but they are an important
      hint to the operator when doing bulk restores.</li>

      <li>Error output from failed backups is now more visible.  The
      old behaviour can be restored with the <tt>--no-errors</tt>
      option.</li>

    </ul>

    <h2>Changes In rsbackup 0.2</h2>

    <p><code>rsbackup</code> has been rewritten in C++.  The behaviour
    is largely same except as follows:</p>

    <ul>

      <li>New <code>--text</code> option generates a plaintext version
      of the report.  In addition the email report includes both the
      text and HTML versions.</li>

      <li><code>--prune-unknown</code> is removed.  It is replaced by
      <code>--retire</code>, which is used to remove backups of
      volumes (and hosts) that are no longer in use and
      <code>--retire-device</code> which is used to remove logs for
      devices that are no longer in use.</li>

      <li>The <code>rsync</code> command now includes the
      <code>--delete</code> option, meaning that interrupted backups
      no longer include stray files from the first attempt.</li>

      <li><code>.incomplete</code> files are no longer created.
      Instead the logs are used to distinguish complete from
      incomplete backups.</li>

      <li>Various <code>--warn-</code> options to control what is
      warned about.</li>

      <li>New <code>always-up</code> option to indicate that a host is
      expected to always be available to back up.</li>

      <li>There are now test scripts.</li>

    </ul>

  </body>
</html>
